# 한 줄 핵심

**파이썬 기초 → 파일·웹 → 임베딩·검색(FAISS/pgvector) → 간단 생성 → 평가(ragas)·보안(OWASP) → FastAPI 서비스** 순서로, 10주 안에 “출처 달린 RAG 미니앱”까지 갑니다.

---

## 0단계 (오늘 30분) — 설치 & 첫 실행

1. **파이썬 3.13.x 설치** → \[공식 문서 시작 페이지]에서 확인(Windows는 “Add python.exe to PATH” 체크). `python --version`으로 점검.
2. **가상환경**

   ```bash
   python -m venv .venv
   # Windows
   .venv\Scripts\activate
   # macOS/Linux
   source .venv/bin/activate
   ```

3. **Hello, Python**

   ```python
   print("Hello, Kkong!")
   ```

4. **에디터**: VS Code 추천(파이썬 확장 설치).
5. **오늘의 미션(15분)**: `input()` 받아서 “이름-인사” 출력 프로그램 작성.

---

## 10주 커리큘럼 (초보 친화 · 하루 60–90분)

### Week 1 — 파이썬 기초(문법의 뼈대)

- 변수·숫자·문자열·리스트/딕셔너리·조건/반복·함수·모듈 기초.
- **작은 과제**: 텍스트 파일에서 단어 수 세고, **상위 10개 단어**를 출력하는 스크립트.
- 참고: **파이썬 공식 튜토리얼**의 초반 장들.

### Week 2 — 파일·에러·테스트·타입

- 파일 입출력(JSON 읽고 쓰기), 예외 처리 `try/except`, 로깅 기초.
- 타입힌트·`dataclass`와 `pydantic`으로 **입력 검증**(후에 LLM JSON 응답 검증에 활용).
- `pytest`로 **첫 유닛 테스트**.
- **작은 과제**: “할 일 목록” CLI: 추가/목록/저장(JSON).
- 참고: 파이썬 문서(파일·예외), 튜토리얼.

### Week 3 — 웹 기초 & 비동기 맛보기

- `httpx`(타임아웃/재시도)로 **HTTP GET/POST**, `asyncio` 기초.
- **작은 과제**: 뉴스/위키 API에서 JSON 받아 **요약 텍스트** 출력(요약은 일단 규칙 기반·슬라이스).
- (LLM 없이도 “요청→응답→검증→표시” 감각 익히기)

### Week 4 — 텍스트 전처리 & 청킹

- 문단/문장 **청킹**, 오버랩(stride), 메타데이터(파일명/페이지) 보존.
- **작은 과제**: 폴더 안 문서들을 `chunks.jsonl`로 저장(텍스트·출처·오프셋 포함).
- 참고: 파이썬 튜토리얼(문자열·파일 파트).

### Week 5 — 임베딩 & **FAISS**로 벡터 검색(로컬)

- `sentence-transformers`로 임베딩(`"all-MiniLM-L6-v2"` 등) → **FAISS** 인덱스 구축/쿼리.
- **작은 과제**: “내 문서 검색기” CLI — 질문 입력→상위 k개 문서 조각 반환.
- 근거: **FAISS 공식/깃허브**, **Sentence-Transformers 문서**.

### Week 6 — \*\*pgvector(PostgreSQL)\*\*로 DB 기반 검색

- Postgres + pgvector 설치, **HNSW/IVFFlat** 인덱스 비교, SQL로 코사인 유사도 쿼리.
- **작은 과제**: `faiss` vs `pgvector` **검색 지연·리콜** 간단 비교표 만들기.
- 근거: **pgvector 공식/깃허브**(ANN 인덱스 HNSW·IVFFlat).

### Week 7 — 재순위(rerank)로 **정밀도** 올리기

- 후보 top-k를 **Cross-Encoder**로 재점수화하여 상위 N 재선택.
- **작은 과제**: 재순위 전/후 **정답률**(+정성 리뷰) 비교 로그.
- 근거: Sentence-Transformers 재순위 가이드.

### Week 8 — “출처 달린 답변” 생성(라이트)

- LLM 호출 ① 구조화 출력(JSON) ② 프롬프트에 **각주 필드** 강제.
- 응답 스키마:

  ```json
  {
    "answer": "...",
    "citations": [{ "idx": 1, "source": "path#L12-40", "quote": "..." }]
  }
  ```

- **작은 과제**: 상위 문서조각을 주입해 **\[1]\[2] 각주 포함** 답변 생성.
- 근거: OpenAI **Structured Outputs** 가이드(스키마 기반 JSON 강제).

### Week 9 — 평가(ragas·HELM 관점) & 보안(OWASP)

- **ragas**로 **answer relevancy / faithfulness** 측정(50 샘플).
- **OWASP LLM Top 10** 체크리스트로 **프롬프트 인젝션·민감정보 노출** 방어 규칙 작성.
- **작은 과제**: 공격 프롬프트 5개에 대해 **차단/완화** 테스트 통과시키기.
- 근거: **ragas 문서**, **HELM 논문**, **OWASP LLM Top 10(최신)**.

### Week 10 — **FastAPI**로 서비스화

- `/ask` POST: {query} → (검색→재순위→생성→**JSON 응답**)
- 스트리밍·OpenAPI 문서·헬스체크·레이트리밋·구조화 로깅.
- **최종 과제**: 단일 페이지 데모(파일 업로드→질문→**각주·하이라이트**).
- 근거: **FastAPI 공식 문서**.

---

## 주차별 산출물(체크리스트)

- [ ] W1-2: 기초 문제 모음 + `pytest` 5개
- [ ] W3: API 호출 유틸 + 타임아웃/재시도
- [ ] W4: `chunks.jsonl`(텍스트+출처+오프셋)
- [ ] W5: FAISS 검색기(질문→top-k 반환)
- [ ] W6: pgvector 검색 API + 리콜/지연 비교표
- [ ] W7: 재순위 모듈 + 정밀도 개선(+5pt 목표)
- [ ] W8: 구조화 JSON 응답(각주 필드 필수)
- [ ] W9: ragas 리포트 + OWASP 테스트 케이스 10개
- [ ] W10: FastAPI `/ask` 배포(로컬 OK)

---

## “완전 초보”용 하루 루틴(샘플)

- **45분** 강의/문서 읽고 따라 치기 → **30분** 실습(작동하는 코드 1개) → **15분** 기록(실패/깨달음 3줄).

---

## 바로 쓰는 미니 코드 조각 3개

**① 입력 검증(Python 기초+Pydantic)**

```python
from pydantic import BaseModel, Field

class Query(BaseModel):
    q: str = Field(min_length=3)
```

**② FAISS top-k 검색(임베딩은 sbert)**

```python
import faiss, numpy as np
# dim = 임베딩 차원 (예: 384 또는 768)
index = faiss.IndexFlatIP(dim)
index.add(np.array(doc_embs, dtype="float32"))
D, I = index.search(np.array([q_emb], dtype="float32"), k=5)
```

**③ FastAPI 서비스 뼈대**

```python
from fastapi import FastAPI
app = FastAPI()

@app.get("/health")
def health():
    return {"ok": True}
```

---

## 질문이 생길 포인트(예상 Q\&A)

- **Q. 영어 문서가 걱정돼요.**
  A. 공식 튜토리얼은 문장 난도가 낮고 예제가 짧습니다. 모르는 단어는 별표(\*)하고 넘어가도 됩니다.
- **Q. 벡터 검색은 꼭 FAISS여야 하나요?**
  A. 로컬 실험은 FAISS가 간편합니다. DB 중심이면 pgvector를 권장합니다(ANN: HNSW/IVFFlat).
- **Q. 평가/보안은 언제 붙이나요?**
  A. 기능이 돌기 시작하면 즉시 **ragas+OWASP**를 최소한으로라도 붙여 “나쁜 답/위험한 입력”을 걸러주세요.

---

## 오늘의 한 줄 정리

**기초 문법부터 시작해도 10주 안에 “출처 달린 RAG” 데모까지 갑니다.**
첫날은 **설치+Hello**만 성공시키면 충분합니다.

---

## 참고(공식·1차 자료)

- Python 공식 튜토리얼/문서.
- FastAPI 문서.
- FAISS 문서/깃허브.
- pgvector 깃허브.
- Sentence-Transformers 문서/깃허브.
- HELM 논문(평가 프레임).
- ragas 문서(평가지표).
- OWASP LLM Top 10(최신).
- OpenAI Structured Outputs(스키마 강제).

---

원하시면 \*\*Week 1용 “하루별 계획(5일 x 60분)”\*\*까지 바로 쪼개서 드릴게요.
또, 오늘 바로 실행할 수 있게 **빈 레포 구조**(디렉터리/`pyproject.toml`/테스트 폴더)도 만들어 드릴 수 있습니다.
